# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
# Архитектура приложения

## 1. Главная страница
### Компоненты:
- **Каталог товаров**:
  - Список карточек товаров.
  - При клике на карточку товара открывается модальное окно с детальной информацией.
  - Данные о товарах загружаются с API.
- **Модальное окно товара**:
  - Показывает подробную информацию о товаре.
  - Закрывается при клике вне модального окна или на кнопку «Закрыть».
- **Иконка корзины**:
  - Открывает модальное окно корзины с товарами.
  - Корзина загружается из `localStorage`.

### Основной функционал:
- Отображение товаров (Catalog).
- Добавление товара в корзину (`basketManager`).
- Открытие модальных окон (`Modal`).

## 2. Страница просмотра товара
### Компоненты:
- **Детальная информация о товаре**:
  - Отображает название, цену, описание и изображение.
- **Кнопки взаимодействия**:
  - «Купить»: Добавляет товар в корзину (если он ещё не добавлен).
  - «Убрать»: Удаляет товар из корзины.

### Основной функционал:
- Управление состоянием корзины (`basketManager`).
- Отображение информации о товаре на основе переданного ID.

## 3. Страница оформления заказа
### Первый шаг: Выбор способа оплаты и ввод адреса доставки
- **Поля**:
  - Выбор метода оплаты (радиокнопки).
  - Поле для ввода адреса доставки.
- **Валидация**:
  - Кнопка «Далее» становится доступной только после ввода адреса.
  - Если поле адреса пустое, отображается сообщение об ошибке.

### Второй шаг: Ввод данных покупателя
- **Поля**:
  - Ввод email.
  - Ввод номера телефона.
- **Валидация**:
  - Кнопка «Оплатить» становится доступной только при заполнении всех полей.
  - Если одно из полей не заполнено, отображается сообщение об ошибке.

### Завершение:
- При успешной оплате выводится сообщение об успехе.
- Корзина очищается.

## 4. Общие требования
- **Модальные окна**:
  - Закрываются при клике вне окна или на крестик.
- **Кнопки перехода**:
  - Доступны только после выполнения всех требований текущего шага.

---

# Документация кода

## Типы данных (index.ts)
- **`Product`**: Описывает структуру товара.
- **`BasketItem`**: Расширяет `Product`, добавляя поле `quantity` для количества товаров.
- **`Basket`**: Массив товаров в корзине.

## Управление корзиной (basket.ts)
- **`BasketManager`**:
  - Хранит текущее состояние корзины (`basket`).
  - **Методы**:
    - `addProduct`: Добавляет товар в корзину.
    - `removeProduct`: Удаляет товар из корзины.
    - `getBasket`: Возвращает текущее состояние корзины.
    - `getTotalPrice`: Считает общую стоимость.
    - `saveBasket`: Сохраняет корзину в `localStorage`.

## Каталог (catalog.ts)
- **`Catalog`**:
  - Загружает товары из API.
  - Отображает их в DOM.
  - При клике на карточку товара открывается модальное окно с детальной информацией.

## Модальные окна (modal.ts)
- **`Modal`**:
  - Управляет открытием и закрытием модальных окон.
  - Закрывает окно при клике вне его или на кнопку «Закрыть».

## Оформление заказа (orders.ts и payments.ts)
- **`OrderForm`**:
  - Управляет первым шагом оформления заказа.
  - Валидация адреса доставки.
  - Включает/выключает кнопку «Далее».
- **`PaymentForm`**:
  - Управляет вторым шагом оформления заказа.
  - Валидация email и телефона.
  - Включает/выключает кнопку «Оплатить».

---

# Функциональные требования

1. **API для товаров**:
   - Должен возвращать список товаров с полями: ID, название, категория, цена, описание, URL изображения.
2. **Локальное хранилище**:
   - Корзина сохраняется в `localStorage`.
3. **Модальные окна**:
   - Управляются классом `Modal`.
4. **Валидация форм**:
   - Реализована на каждом шаге оформления заказа.
